/*
 * Author: Nick Price & Ben Gourley
 * Build date: 17/2/14
 * Repository: http://github.com/nicholasjohn/break
 * Origin: http://github.com/bengourley/break
 */
(function(){function t(){function t(){for(var t=e.breakPoints.length-1;t>=0;t--){e.breakPoints[t].check()}}var e=this;this.breakPoints=[];window.onresize=t;setTimeout(t,0)}function n(e,t,n){this.name=e;this.media=t;this.isIe=n;this.matches=null;this.init=false;this.enterFn=[];this.exitFn=[]}var e=window.Modernizr.mq;n.prototype.enter=function(){for(var e=0;e<this.enterFn.length;e++){this.enterFn[e]()}};n.prototype.exit=function(){for(var e=0;e<this.exitFn.length;e++){this.exitFn[e]()}};n.prototype.check=function(){if(!window.Modernizr.mq("only all"))return this;if(!this.init&&e(this.media)){this.init=true;this.enter()}else{if(this.matches===null){if(e(this.media)){this.enter();this.matches=true}else{this.exit();this.matches=false}return this}else if(e(this.media)&&!this.matches){this.enter();this.matches=true;return this}else if(!e(this.media)&&this.matches){this.exit();this.matches=false;return this}}return this};t.prototype.add=function(e,t,r){this.breakPoints.push((new n(e,t,r)).check())};t.prototype.on=function(e,t){var n=e.split(":")[0],r=e.split(":")[1];for(var i=this.breakPoints.length-1;i>=0;i--){if(this.breakPoints[i].name===r){if(!window.Modernizr.mq("only all")&&this.breakPoints[i].isIe&&n==="enter"){t();return}this.breakPoints[i][n+"Fn"].push(t)}}};window.cssBreak=new t})()